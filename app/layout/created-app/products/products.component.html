<ScrollView row="0">
    <StackLayout class="full-dashboard">
        <StackLayout orientation="vertical">
            <Button textWrap="true" width="33.33%" [nsRouterLink]="['/created-app/', app_id,'add-product-category']">
                <FormattedString>
                    <Span class="fa fa-plus" [text]="'fa-plus' | fonticon"></Span>
                    <Span text="Add New Category"></Span>
                </FormattedString>
            </Button>

            <Accordion [items]="category_list" itemTapped="tapped" class="category_product_accordian" separatorColor="transparent">

                <ng-template accordionHeaderTemplate let-item="item" let-i="index">
                    <GridLayout columns="*,*,40,40" rows="*" class="category_heading" borderWidth="1" borderColor="#ccc">
                        <Label [text]="item.category_name" textWrap="true" row="0" col="0"></Label>
                        <StackLayout orientation="horizontal" row="0" col="1" [nsRouterLink]="['/created-app/', app_id, 'add-product', item.id]">
                            <Label class="fa fa-plus" [text]="'fa-plus' | fonticon"></Label>
                            <Label text="Add Product" textWrap="true"></Label>
                        </StackLayout>
                        <Label class="fa fa-edit" [text]="'fa-edit' | fonticon" row="0" col="2" [nsRouterLink]="['/created-app/', app_id, 'edit-product-category', item.id]"></Label>
                        <Label class="fa fa-trash" [text]="'fa-trash' | fonticon" row="0" col="3" (tap)="deleteProductCategory(item.id)"></Label>
                    </GridLayout>
                </ng-template>

                <ng-template accordionItemTemplate let-item="item" let-parent="parentIndex" let-even="even" let-child="childIndex">
                    <StackLayout class="product_list" borderRightWidth="1" borderLeftWidth="1" borderColor="#ccc">
                        <CardView class="whiteCard">
                            <GridLayout rows="*" columns="*,*,40,40" padding="5" verticalAlignment="center" [nsRouterLink]="['/created-app/', app_id, 'edit-product', item.id]">
                                <Label [text]="item.product_name" textWrap="true" row="0" col="0" verticalAlignment="center" class="product_name"></Label>
                                <StackLayout row="0" col="1" verticalAlignment="center" orientation="horizontal">
                                    <Label [text]="item.discounted_price" class="discounted_price" textWrap="true" *ngIf="item.discounted_price > 0"></Label>
                                    <Label [text]="item.price" class="original_price" textWrap="true" [ngClass]="[item.discounted_price > 0 ? 'isDiscount' : '']"></Label>
                                    <Label [text]="getDiscount(item.price,item.discounted_price)" class="discount" textWrap="true" *ngIf="item.discounted_price > 0"></Label>
                                </StackLayout>
                                <Label class="fa fa-edit" [text]="'fa-edit' | fonticon" row="0" col="2"></Label>
                                <Label class="fa fa-trash" [text]="'fa-trash' | fonticon" row="0" col="3" (tap)="deleteProduct(item.id)"></Label>
                            </GridLayout>
                        </CardView>

                    </StackLayout>
                </ng-template>

                <ng-template accordionFooterTemplate let-item="item" let-i="index">
                    <GridLayout backgroundColor="yellow" columns="auto,*">
                        <Label [text]="item.category_name"></Label>
                        <Label col="1" text="-"></Label>
                    </GridLayout>
                </ng-template>

            </Accordion>
        </StackLayout>
    </StackLayout>
</ScrollView>